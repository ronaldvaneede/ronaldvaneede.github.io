<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        
        <meta name="robots" content="index,follow" />
        <meta name="googlebot" content="index,follow" />
        <meta name="description" content="This is your first blog post.">

        <meta property="og:title" content="Mutation testing | Ronald van Eede"/>
        <meta property="og:type" content="article" />
        <meta property="og:url" content="https://ronaldvaneede.me/blog/mutation-testing"/>
        <meta property="og:description" content="This is your first blog post." />

        <meta name="twitter:site" content="@ronaldvaneede" />
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:title" content="Mutation testing | Ronald van Eede" />
        <meta name="twitter:description" content="This is your first blog post." />

        <title>Mutation testing | Ronald van Eede</title>

        <link rel="home" href="https://ronaldvaneede.me">
        <link rel="icon" href="/favicon.ico">
        <link href="/blog/feed.atom" type="application/atom+xml" rel="alternate" title="Ronald van Eede Atom Feed">

                <script defer data-domain="ronaldvaneede.me" src="https://plausible.io/js/plausible.js"></script>
        
        <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i,800,800i" rel="stylesheet">
        <link rel="stylesheet" href="/assets/build/css/main.css?id=c6a1efa22ed091a92fdf">
    </head>

    <body class="flex flex-col justify-between min-h-screen bg-gray-100 text-gray-800 leading-normal font-sans">
        <header class="flex items-center shadow-md bg-white border-b h-24 py-4" role="banner">
            <div class="container flex items-center max-w-6xl mx-auto px-4 lg:px-8">
                <div class="flex items-center">
                    <a href="/" title="Ronald van Eede home" class="inline-flex items-center">
                        <!-- <img class="h-8 md:h-10 mr-3" src="/assets/img/logo.svg" alt="Ronald van Eede logo" /> -->

                        <h1 class="text-lg md:text-2xl text-blue-800 font-semibold hover:text-blue-600 my-0">Ronald van Eede</h1>
                    </a>
                </div>

                <div id="vue-search" class="flex flex-1 justify-end items-center">
                    <search></search>

                    <nav class="hidden lg:flex items-center justify-end text-lg">
    
    <a title="Ronald van Eede Blog" href="/blog"
        class="ml-6 text-gray-700 hover:text-blue-600 ">
        Blog
    </a>

    <a title="Ronald van Eede Tools" href="/tools"
        class="ml-6 text-gray-700 hover:text-blue-600 ">
        Tools
    </a>
    
    <!--
    <a title="Ronald van Eede About" href="/about"
        class="ml-6 text-gray-700 hover:text-blue-600 ">
        About
    </a>

    <a title="Ronald van Eede Contact" href="/contact"
        class="ml-6 text-gray-700 hover:text-blue-600 ">
        Contact
    </a>
    -->
</nav>

                    <button class="flex justify-center items-center bg-blue-500 border border-blue-500 h-10 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

                </div>
            </div>
        </header>

        <nav id="js-nav-menu" class="w-auto px-2 pt-6 pb-2 bg-gray-200 shadow hidden lg:hidden">
    <ul class="my-0">
        <li class="pl-4">
            <a
                title="Ronald van Eede Blog"
                href="/blog"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-blue-500"
            >Blog</a>
        </li>
        <li class="pl-4">
            <a
                title="Ronald van Eede Tools"
                href="/tools"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-blue-500"
            >Tools</a>
        </li>
        <!--
        <li class="pl-4">
            <a
                title="Ronald van Eede About"
                href="/about"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-blue-500"
            >About</a>
        </li>
        <li class="pl-4">
            <a
                title="Ronald van Eede Contact"
                href="/contact"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-blue-500"
            >Contact</a>
        </li>
        -->
    </ul>
</nav>

        <main role="main" class="flex-auto w-full container max-w-6xl mx-auto py-16 px-6">
                <div class="overflow-hidden shadow-lg rounded-lg bg-white mb-12">
                    <img alt="Mutation testing cover image" src="https://picsum.photos/seed/mutationtesting/848/300" class="max-h-60 w-full object-cover"/>
                
        <div class="p-4">
            <h1 class="text-gray-800 mb-0">
                Mutation testing
            </h1>

            <p class="text-gray-700">
                Ronald van Eede • February 19, 2016 • 4 min read
            </p>

                                                <a
                        href="/blog/categories/Development"
                        title="View posts in Development"
                        class="inline-block bg-gray-300 hover:bg-blue-200 leading-loose tracking-wide text-gray-800 uppercase text-xs font-semibold rounded mr-4 px-3 pt-px"
                    >Development</a>
                                    <a
                        href="/blog/categories/Java"
                        title="View posts in Java"
                        class="inline-block bg-gray-300 hover:bg-blue-200 leading-loose tracking-wide text-gray-800 uppercase text-xs font-semibold rounded mr-4 px-3 pt-px"
                    >Java</a>
                                    <a
                        href="/blog/categories/Testing"
                        title="View posts in Testing"
                        class="inline-block bg-gray-300 hover:bg-blue-200 leading-loose tracking-wide text-gray-800 uppercase text-xs font-semibold rounded mr-4 px-3 pt-px"
                    >Testing</a>
                            
            <div class="text-gray-600 font-medium text-m">
                <p>This is the original article, you can also find this article on my employer’s website.</p>

<p>When you write code you also write tests to prove that your code works, right? But how do you know your tests are correct? How to test your tests?
This is where Mutation Testing comes in. How does that work?</p>

<p>The concept of mutation testing is simple, when you run your tests faults are automatically seeded into your code. If your tests fail the mutation is killed, are your tests still green? Then the mutation lived. So you can measure the quality of your tests by the amount of mutation that are killed.
So you run your unit tests against automatically modified versions of your code. When the code changes different results will be produced and your tests should fail.
Why?</p>

<p>Why do you want to do this? We can measure quality with test coverage, right? This is only true up to a certain level. There is no guarantee that your tests can actually detect faults. Test coverage only measures which code is executed.
How?</p>

<p>So how do we do this with Java? There are some mutation testing systems for Java but the most widely used one is <a href="http://pitest.org/">PIT</a>.</p>

<p>All you have to do to get started is to add a build plugin in your <code>pom.xml</code> and add some configuration for the classes you want to target and the tests that you want to use:</p>

<pre><code data-theme="material-theme-palenight" data-lang="xml" class='language-xml torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 1</span><span style="color: #89DDFF;">&lt;</span><span style="color: #F07178;">plugin</span><span style="color: #89DDFF;">&gt;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 2</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">&lt;</span><span style="color: #F07178;">groupId</span><span style="color: #89DDFF;">&gt;</span><span style="color: #A6ACCD;">org.pitest</span><span style="color: #89DDFF;">&lt;/</span><span style="color: #F07178;">groupId</span><span style="color: #89DDFF;">&gt;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 3</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">&lt;</span><span style="color: #F07178;">artifactId</span><span style="color: #89DDFF;">&gt;</span><span style="color: #A6ACCD;">pitest-maven</span><span style="color: #89DDFF;">&lt;/</span><span style="color: #F07178;">artifactId</span><span style="color: #89DDFF;">&gt;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 4</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">&lt;</span><span style="color: #F07178;">version</span><span style="color: #89DDFF;">&gt;</span><span style="color: #A6ACCD;">1.1.6</span><span style="color: #89DDFF;">&lt;/</span><span style="color: #F07178;">version</span><span style="color: #89DDFF;">&gt;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 5</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">&lt;</span><span style="color: #F07178;">configuration</span><span style="color: #89DDFF;">&gt;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 6</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&lt;</span><span style="color: #F07178;">targetClasses</span><span style="color: #89DDFF;">&gt;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 7</span><span style="color: #A6ACCD;">            </span><span style="color: #89DDFF;">&lt;</span><span style="color: #F07178;">param</span><span style="color: #89DDFF;">&gt;</span><span style="color: #A6ACCD;">com.vaneede.ronald.pittest.factory*</span><span style="color: #89DDFF;">&lt;/</span><span style="color: #F07178;">param</span><span style="color: #89DDFF;">&gt;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 8</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&lt;/</span><span style="color: #F07178;">targetClasses</span><span style="color: #89DDFF;">&gt;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 9</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&lt;</span><span style="color: #F07178;">targetTests</span><span style="color: #89DDFF;">&gt;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">10</span><span style="color: #A6ACCD;">            </span><span style="color: #89DDFF;">&lt;</span><span style="color: #F07178;">param</span><span style="color: #89DDFF;">&gt;</span><span style="color: #A6ACCD;">com.vaneede.ronald.pittest.factory*</span><span style="color: #89DDFF;">&lt;/</span><span style="color: #F07178;">param</span><span style="color: #89DDFF;">&gt;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">11</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">&lt;/</span><span style="color: #F07178;">targetTests</span><span style="color: #89DDFF;">&gt;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">12</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">&lt;/</span><span style="color: #F07178;">configuration</span><span style="color: #89DDFF;">&gt;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">13</span><span style="color: #89DDFF;">&lt;/</span><span style="color: #F07178;">plugin</span><span style="color: #89DDFF;">&gt;</span></div></code></pre>

<p>Now you can use the <code>mvn org.pitest:pitest-maven:mutationCoverage</code> command to run the mutation tests, but make sure you have a green unit test suite first, because PIT needs that. there is also a plugin available for IntelliJ and Eclipse.</p>

<p>To give it a try you can create a small Java project
Create a <code>Movie.java</code> file with this content:</p>

<pre><code data-theme="material-theme-palenight" data-lang="java" class='language-java torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 1</span><span style="color: #F78C6C;">package</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">com</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">vaneede</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">ronald</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">pittest</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">entity</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 2</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 3</span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Movie</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 4</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">private</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">final</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">String</span><span style="color: #A6ACCD;"> id</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 5</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">private</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">final</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">String</span><span style="color: #A6ACCD;"> title</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 6</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">private</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">final</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">String</span><span style="color: #A6ACCD;"> director</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 7</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 8</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">Movie</span><span style="color: #89DDFF;">(</span><span style="color: #C792EA;">String</span><span style="color: #A6ACCD;"> id</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">String</span><span style="color: #A6ACCD;"> title</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">String</span><span style="color: #A6ACCD;"> director</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 9</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">id </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> id</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">10</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">title </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> title</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">11</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">this.</span><span style="color: #A6ACCD;">director </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> director</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">12</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">13</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">14</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">String</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">getId</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">15</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">return</span><span style="color: #A6ACCD;"> id</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">16</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">17</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">18</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">String</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">getTitle</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">19</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">return</span><span style="color: #A6ACCD;"> title</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">20</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">21</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">22</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">String</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">getDirector</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">23</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">return</span><span style="color: #A6ACCD;"> director</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">24</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">25</span><span style="color: #89DDFF;">}</span></div></code></pre>

<p>And a <code>MovieFactory.java</code> file:</p>

<pre><code data-theme="material-theme-palenight" data-lang="java" class='language-java torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 1</span><span style="color: #F78C6C;">package</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">com</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">vaneede</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">ronald</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">pittest</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">factory</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 2</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 3</span><span style="color: #F78C6C;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">com</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">vaneede</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">ronald</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">pittest</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">entity</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">Movie</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 4</span><span style="color: #F78C6C;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">java</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">util</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">UUID</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 5</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 6</span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">MovieFactory</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 7</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">private</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">static</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">final</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">int</span><span style="color: #A6ACCD;"> MIN_LENGTH </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">3</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 8</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 9</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">Movie</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">create</span><span style="color: #89DDFF;">(</span><span style="color: #C792EA;">final</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">String</span><span style="color: #A6ACCD;"> title</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">final</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">String</span><span style="color: #A6ACCD;"> director</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">10</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">if</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">title </span><span style="color: #89DDFF;">==</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">null)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">11</span><span style="color: #A6ACCD;">            </span><span style="color: #89DDFF;">throw</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">IllegalArgumentException</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">title must be set</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">12</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">13</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">if</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">title</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">length</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&lt;=</span><span style="color: #A6ACCD;"> MIN_LENGTH</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">14</span><span style="color: #A6ACCD;">            </span><span style="color: #89DDFF;">throw</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">IllegalArgumentException</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">title must have a minimal length of </span><span style="color: #89DDFF;">&quot;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">+</span><span style="color: #A6ACCD;"> MIN_LENGTH</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">15</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">16</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">if</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">director </span><span style="color: #89DDFF;">==</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">null)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">17</span><span style="color: #A6ACCD;">            </span><span style="color: #89DDFF;">throw</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">IllegalArgumentException</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">director must be set</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">18</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">19</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">20</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">return</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">Movie</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">UUID</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">randomUUID</span><span style="color: #89DDFF;">().</span><span style="color: #82AAFF;">toString</span><span style="color: #89DDFF;">().</span><span style="color: #82AAFF;">toUpperCase</span><span style="color: #89DDFF;">(),</span><span style="color: #A6ACCD;"> title</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> director</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">21</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">22</span><span style="color: #89DDFF;">}</span></div></code></pre>

<p>And a test class, <code>MovieFactroyTest</code>:</p>

<pre><code data-theme="material-theme-palenight" data-lang="java" class='language-java torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 1</span><span style="color: #F78C6C;">package</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">com</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">vaneede</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">ronald</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">pitest</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">factory</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 2</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 3</span><span style="color: #F78C6C;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">com</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">vaneede</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">ronald</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">pittest</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">entity</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">Movie</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 4</span><span style="color: #F78C6C;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">com</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">vaneede</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">ronald</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">pittest</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">factory</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">MovieFactory</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 5</span><span style="color: #F78C6C;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">org</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">junit</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">Test</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 6</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 7</span><span style="color: #F78C6C;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">static</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">org</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">hamcrest</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">MatcherAssert</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">assertThat</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 8</span><span style="color: #F78C6C;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">static</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">org</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">hamcrest</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">Matchers</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">equalTo</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 9</span><span style="color: #F78C6C;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">static</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">org</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">hamcrest</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">Matchers</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">isEmptyOrNullString</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">10</span><span style="color: #F78C6C;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">static</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">org</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">hamcrest</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">Matchers</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">not</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">11</span><span style="color: #F78C6C;">import</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">static</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">org</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">hamcrest</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">Matchers</span><span style="color: #89DDFF;">.</span><span style="color: #C792EA;">notNullValue</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">12</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">13</span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">MovieFactoryTest</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">14</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">private</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">static</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">final</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">String</span><span style="color: #A6ACCD;"> TITLE </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">Pulp Fiction</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">15</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">private</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">static</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">final</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">String</span><span style="color: #A6ACCD;"> DIRECTOR </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">Quentin Tarantino</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">16</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">17</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">private</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">final</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">MovieFactory</span><span style="color: #A6ACCD;"> movieFactory </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">MovieFactory</span><span style="color: #89DDFF;">();</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">18</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">19</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">@</span><span style="color: #C792EA;">Test</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">20</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">void</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">shouldCreateMovie</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">throws</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">Exception</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">21</span><span style="color: #A6ACCD;">        </span><span style="color: #C792EA;">final</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">Movie</span><span style="color: #A6ACCD;"> movie </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> movieFactory</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">create</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">TITLE</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> DIRECTOR</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">22</span><span style="color: #A6ACCD;">        </span><span style="color: #82AAFF;">assertThat</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">movie</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">notNullValue</span><span style="color: #89DDFF;">());</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">23</span><span style="color: #A6ACCD;">        </span><span style="color: #82AAFF;">assertThat</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">movie</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">getTitle</span><span style="color: #89DDFF;">(),</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">equalTo</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">TITLE</span><span style="color: #89DDFF;">));</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">24</span><span style="color: #A6ACCD;">        </span><span style="color: #82AAFF;">assertThat</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">movie</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">getDirector</span><span style="color: #89DDFF;">(),</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">equalTo</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">DIRECTOR</span><span style="color: #89DDFF;">));</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">25</span><span style="color: #A6ACCD;">        </span><span style="color: #82AAFF;">assertThat</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">movie</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">getId</span><span style="color: #89DDFF;">(),</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">not</span><span style="color: #89DDFF;">(</span><span style="color: #82AAFF;">isEmptyOrNullString</span><span style="color: #89DDFF;">()));</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">26</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">27</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">28</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">@</span><span style="color: #C792EA;">Test</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">expected</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> IllegalArgumentException</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">class</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">29</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">void</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">shouldFailCreateMovieWithNoTitleGiven</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">throws</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">Exception</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">30</span><span style="color: #A6ACCD;">        movieFactory</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">create</span><span style="color: #89DDFF;">(null,</span><span style="color: #A6ACCD;"> DIRECTOR</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">31</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">32</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">33</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">@</span><span style="color: #C792EA;">Test</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">expected</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> IllegalArgumentException</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">class</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">34</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">void</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">shouldFailCreateMovieWithNoDirectorGiven</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">throws</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">Exception</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">35</span><span style="color: #A6ACCD;">        movieFactory</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">create</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">TITLE</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">null);</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">36</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">37</span>&nbsp;</div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">38</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">@</span><span style="color: #C792EA;">Test</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">expected</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> IllegalArgumentException</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">class</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">39</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">void</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">shouldFailCreateMovieWithTooShortTitleGiven</span><span style="color: #89DDFF;">()</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">throws</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">Exception</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">40</span><span style="color: #A6ACCD;">        movieFactory</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">create</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">pf</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> DIRECTOR</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">41</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">42</span><span style="color: #89DDFF;">}</span></div></code></pre>

<p>When you run the tests with coverage you will see that all the code in the <code>MovieFactory</code> class is covered by the tests.
So we tested everything, right? Not entirely. Let's run PIT.<br />
PIT will run the tests again but it will make small changes to the code. It does this in-memory so it's fast and it does not change your actual code.
It changes things like <code>==</code> to <code>!=</code>, <code>!=</code> to <code>==</code>, <code>&lt;=</code> to <code>&lt;</code>, return <code>true</code> instead of <code>false</code>, or <code>false</code> instead of <code>true</code> etcetera.</p>

<pre><code data-theme="material-theme-palenight" data-lang="text" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">1</span><span style="color: #A6ACCD;">================================================================================</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">2</span><span style="color: #A6ACCD;">- Statistics</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">3</span><span style="color: #A6ACCD;">================================================================================</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">4</span><span style="color: #A6ACCD;">&gt;&gt; Generated 8 mutations Killed 7 (88%)</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">5</span><span style="color: #A6ACCD;">&gt;&gt; Ran 11 tests (1.38 tests per mutation)</span></div></code></pre>

<p>So it looks like our tests killed 7 mutations, but 1 survived. Can you already find it?<br />
Let's continue with the report summary:</p>

<pre><code data-theme="material-theme-palenight" data-lang="text" class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 1</span><span style="color: #A6ACCD;">================================================================================</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 2</span><span style="color: #A6ACCD;">- Mutators</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 3</span><span style="color: #A6ACCD;">================================================================================</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 4</span><span style="color: #A6ACCD;">&gt; org.pitest.mutationtest.engine.gregor.mutators.ConditionalsBoundaryMutator</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 5</span><span style="color: #A6ACCD;">&gt;&gt; Generated 1 Killed 0 (0%)</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 6</span><span style="color: #A6ACCD;">&gt; KILLED 0 SURVIVED 1 TIMED_OUT 0 NON_VIABLE 0</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 7</span><span style="color: #A6ACCD;">&gt; MEMORY_ERROR 0 NOT_STARTED 0 STARTED 0 RUN_ERROR 0</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 8</span><span style="color: #A6ACCD;">&gt; NO_COVERAGE 0</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 9</span><span style="color: #A6ACCD;">--------------------------------------------------------------------------------</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">10</span><span style="color: #A6ACCD;">&gt; org.pitest.mutationtest.engine.gregor.mutators.ReturnValsMutator</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">11</span><span style="color: #A6ACCD;">&gt;&gt; Generated 4 Killed 4 (100%)</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">12</span><span style="color: #A6ACCD;">&gt; KILLED 4 SURVIVED 0 TIMED_OUT 0 NON_VIABLE 0</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">13</span><span style="color: #A6ACCD;">&gt; MEMORY_ERROR 0 NOT_STARTED 0 STARTED 0 RUN_ERROR 0</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">14</span><span style="color: #A6ACCD;">&gt; NO_COVERAGE 0</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">15</span><span style="color: #A6ACCD;">--------------------------------------------------------------------------------</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">16</span><span style="color: #A6ACCD;">&gt; org.pitest.mutationtest.engine.gregor.mutators.NegateConditionalsMutator</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">17</span><span style="color: #A6ACCD;">&gt;&gt; Generated 3 Killed 3 (100%)</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">18</span><span style="color: #A6ACCD;">&gt; KILLED 3 SURVIVED 0 TIMED_OUT 0 NON_VIABLE 0</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">19</span><span style="color: #A6ACCD;">&gt; MEMORY_ERROR 0 NOT_STARTED 0 STARTED 0 RUN_ERROR 0</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">20</span><span style="color: #A6ACCD;">&gt; NO_COVERAGE 0</span></div><div class='line'><span style="color:#a6accd40; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">21</span><span style="color: #A6ACCD;">--------------------------------------------------------------------------------</span></div></code></pre>

<h2>Mutators</h2>

<p>So PIT used three different kind of mutators: <code>ConditionalsBoundaryMutator</code>, <code>ReturnValsMutator</code> and <code>NegateConditionalsMutator</code>.<br />
The <code>ConditionalsBoundaryMutator</code> changes <code>&lt;</code> to <code>&lt;=</code>, <code>&lt;=</code> to <code>&lt;</code>, <code>&gt;</code> to <code>&gt;=</code> and <code>&gt;=</code> to <code>&gt;</code>.<br />
The <code>ReturnValsMutator</code> changes the return values of your methods, so if your method normally returns true it is mutated to return false instead. Or it the method normally returns an Object it will return null.<br />
The <code>NegateConditionalsMutator</code> changes conditional statements, so it will change <code>==</code> to <code>!=</code>, <code>!=</code> to <code>==</code>, <code>&lt;=</code> to <code>&gt;</code>, <code>&gt;=</code> to <code>&lt;</code>, <code>&lt;</code> to <code>&gt;=</code> and <code>&gt;</code> to <code>&lt;=</code>. Besides these three mutators there are a total of 13 possible mutators, 7 of them are enabled by default, the others have to be enabled explicitly.<br />
As you can see in the report above only 3 out of the 7 that are enabled by default where used, that is because the others where not applicable for the example code.So we have 1 mutation that survived, let's take a deeper look at that one. PIT generated a nice HTML report in the target directory so we can open that in the browser.</p>

<p><img src="/assets/img/moviefactory.java.png" class="mb-6 rounded-md shadow-md"></p>

<p>Light green shows line coverage.<br />
Dark green shows mutation coverage.<br />
Light pink show lack of line coverage.<br />
Dark pink shows lack of mutation coverage.</p>

<p>In the report you can see that there is a problem on line 14. PIT tested that line with a <code>NegateConditionalsMutator</code> and a <code>ConditionalsBoundaryMutator</code> mutator.
As you can see in the list of Mutations the <code>ConditionalsBoundaryMutator</code> mutation caused a test to fail, so the mutant survived.<br />
In this case this is because we only test for a movie title shorter than 3 characters but not for a title of exactly 3 characters. So by including mutation into our project we discovered that we where missing a test.<br />
This is only one small example, there are a lot more mutators that can be used, like the <code>VoidMethodCalls</code> mutator that removed calls to void methods or the <code>MathMutator</code> that changes calculations in your code.</p>
            </div>
        </div>
    </div>

    <nav class="flex justify-between text-sm md:text-base">
        <div>
                            <a href="https://ronaldvaneede.me/blog/podcasts-for-developers" title="Older Post: Podcasts for developers">
                    &LeftArrow; Podcasts for developers
                </a>
                    </div>

        <div>
                            <a href="https://ronaldvaneede.me/blog/disposable-development-environment-with-virtualbox" title="Newer Post: Setting up a disposable development environment">
                    Setting up a disposable development environment &RightArrow;
                </a>
                    </div>
    </nav> 
    
        </main>

        <footer class="bg-white text-center text-sm mt-12 py-4 text-gray-400" role="contentinfo">
            <ul class="flex flex-col md:flex-row justify-center list-none">
                <li class="md:mr-2">
                    Copyright &copy; 2022 Ronald van Eede.
                </li>
                <li class="md:mr-2">
                    Syntax highlighting by <a href="https://torchlight.dev/" target="_blank">Torchlight</a>.
                </li>
            </ul>
        </footer>

        <script src="/assets/build/js/main.js?id=c01b5f28a9627467b92c"></script>

        <script>
    const navMenu = {
        toggle() {
            const menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
        },
    }
</script>

        
    </body>
</html>
